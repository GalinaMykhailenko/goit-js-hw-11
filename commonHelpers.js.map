{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function searchImage(searchQuery) {\n    const BASE_URL = \"https://pixabay.com\";\n    const END_POINT = \"/api/\";\n    const params = new URLSearchParams({\n        key: \"44052553-0e6a302568f711546d3ca79ba\",\n        q: searchQuery,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    });\n\n    const url = `${BASE_URL}${END_POINT}?${params}`;\n    \n    return fetch(url)\n        .then(response => {\n            if (!response.ok) {\n                console.error(`HTTP error! status: ${response.status}`);\n                return Promise.reject(new Error(`HTTP error! status: ${response.status}`));\n            }\n            return response.json();\n        })\n        .catch(error => {\n            console.error(`HTTP error! status: ${error.message}`);\n            return Promise.reject(new Error(`HTTP error! status: ${error.message}`));\n        });\n    \n    \n}\n","export function singleImageTemplate(image) {\n    return `\n        <li class=\"gallery-item\">\n            <a href=\"${image.largeImageURL}\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"gallery-item-image\">\n                <div class=\"info\">\n                    <p class=\"info-title\">Likes: <span class=\"info-value\">${image.likes}</span></p>\n                    <p class=\"info-title\">Views: <span class=\"info-value\">${image.views}</span></p>\n                    <p class=\"info-title\">Comments: <span class=\"info-value\">${image.comments}</span></p>\n                    <p class=\"info-title\">Downloads: <span class=\"info-value\">${image.downloads}</span></p>\n                    <p class=\"info-title\">Alt: <span class=\"info-value\">${image.tags}</span></p>\n                </div>\n            </a>\n        </li>\n    `;\n}\n\nexport function imageTemplate(images) {\n    return images.map(singleImageTemplate).join('');\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { searchImage } from \"./js/pixabay-api.js\";\nimport { imageTemplate } from \"./js/render-functions.js\";\n\nconst formEl = document.querySelector(\".form\");\nconst imagesGallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\"#loader\");\n\nformEl.addEventListener(\"submit\", event => {\n    event.preventDefault();\n\n    const searchQuery = event.target.elements.searchQuery.value.trim();\n\n    if (!searchQuery) {\n        iziToast.error({\n            title: 'Error',\n            message: 'Search query cannot be empty!',\n        });\n        return;\n    }\n\n    loader.classList.remove('hidden');\n    loader.classList.add('hidden');\n    imagesGallery.innerHTML = '';\n\n    searchImage(searchQuery)\n        .then(data => {\n            if (data.hits.length === 0) {\n                iziToast.warning({\n                    title: 'Warning',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n            } else {\n                const markup = imageTemplate(data.hits);\n                imagesGallery.innerHTML = markup;\n                new SimpleLightbox('.gallery a', {\n                    captionsData: \"alt\",\n                    captionsDelay: 250\n                }).refresh();\n\n                event.target.elements.searchQuery.value = '';\n            }\n        })\n        .catch(error => {\n            iziToast.error({\n                title: 'Error',\n                message: error.message,\n            });\n        })\n        .finally(() => {\n            loader.classList.add('hidden');\n        });\n});"],"names":["searchImage","searchQuery","BASE_URL","END_POINT","params","url","response","error","singleImageTemplate","image","imageTemplate","images","formEl","imagesGallery","loader","event","iziToast","data","markup","SimpleLightbox"],"mappings":"wvBAAO,SAASA,EAAYC,EAAa,CACrC,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAEKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAE7C,OAAO,MAAMC,CAAG,EACX,KAAKC,GACGA,EAAS,GAIPA,EAAS,QAHZ,QAAQ,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAC/C,QAAQ,OAAO,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,CAAC,EAGhF,EACA,MAAMC,IACH,QAAQ,MAAM,uBAAuBA,EAAM,OAAO,EAAE,EAC7C,QAAQ,OAAO,IAAI,MAAM,uBAAuBA,EAAM,OAAO,EAAE,CAAC,EAC1E,CAGT,CC3BO,SAASC,EAAoBC,EAAO,CACvC,MAAO;AAAA;AAAA,uBAEYA,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,4EAEUA,EAAM,KAAK;AAAA,4EACXA,EAAM,KAAK;AAAA,+EACRA,EAAM,QAAQ;AAAA,gFACbA,EAAM,SAAS;AAAA,0EACrBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,KAKpF,CAEO,SAASC,EAAcC,EAAQ,CAClC,OAAOA,EAAO,IAAIH,CAAmB,EAAE,KAAK,EAAE,CAClD,CCXA,MAAMI,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAgB,SAAS,cAAc,UAAU,EACjDC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAO,iBAAiB,SAAUG,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMd,EAAcc,EAAM,OAAO,SAAS,YAAY,MAAM,OAE5D,GAAI,CAACd,EAAa,CACde,EAAS,MAAM,CACX,MAAO,QACP,QAAS,+BACrB,CAAS,EACD,MACH,CAEDF,EAAO,UAAU,OAAO,QAAQ,EAChCA,EAAO,UAAU,IAAI,QAAQ,EAC7BD,EAAc,UAAY,GAE1Bb,EAAYC,CAAW,EAClB,KAAKgB,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EACrBD,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,0EAC7B,CAAiB,MACE,CACH,MAAME,EAASR,EAAcO,EAAK,IAAI,EACtCJ,EAAc,UAAYK,EAC1B,IAAIC,EAAe,aAAc,CAC7B,aAAc,MACd,cAAe,GACnC,CAAiB,EAAE,QAAO,EAEVJ,EAAM,OAAO,SAAS,YAAY,MAAQ,EAC7C,CACb,CAAS,EACA,MAAMR,GAAS,CACZS,EAAS,MAAM,CACX,MAAO,QACP,QAAST,EAAM,OAC/B,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXO,EAAO,UAAU,IAAI,QAAQ,CACzC,CAAS,CACT,CAAC"}